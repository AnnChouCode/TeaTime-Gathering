<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="/TeaTime-Gathering/assets/logo-favicon-a850431b.png" type="image/x-icon" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tocas/4.2.5/tocas.min.css" />
    <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/@tarekraafat/autocomplete.js@10.2.7/dist/css/autoComplete.min.css">
    
    <title>訂單管理</title>
  <script type="module" crossorigin src="/TeaTime-Gathering/assets/main-9ebfdcfe.js"></script>
  <link rel="stylesheet" href="/TeaTime-Gathering/assets/main-6493fc54.css">
  <link rel="stylesheet" href="/TeaTime-Gathering/assets/_memberSystem-9399d8d1.css">
</head>

<body>
    <div class="container-fluid bg-white ">
        <div class="row">
            <!-- 左側欄位 -->
            <aside class="col-2 p-24 d-none d-lg-block ">
    <div>
        <!-- <img src="/assets/images/logo/logo-teatime.svg" alt="" class="h-100  "> -->
        <a href="index.html" class="indexLogo"></a>
    </div>

    <ul class="mt-20 py-24 fs-20 fw-bolder gap-12">
        <li class="d-flex align-items-center ">
            <iconify-icon class="me-10" icon="pajamas:overview" style="color: #1e1e1e;" width="24"></iconify-icon>
            <a href="overallSystem.html" class="memberSystem-a  text-gray-02">總覽</a>
        </li>

        </li>
        <li class="mt-40 d-flex align-items-center "><iconify-icon class="me-10"
                icon="material-symbols:order-approve-outline" style="color: #1e1e1e;" width="24"></iconify-icon><a
                href="orderSystem.html" class="memberSystem-a  text-gray-02">訂單管理</a></li>
        <li class="mt-40 d-flex align-items-center"><iconify-icon class="me-10" icon="mdi:vote" style="color: #1e1e1e;"
                width="24"></iconify-icon><a href="voteSystem.html" class="memberSystem-a text-gray-02">投票管理</a></li>
        <li class="mt-40 d-flex align-items-center"><iconify-icon class="me-10" icon="material-symbols:account-box"
                style="color: #1e1e1e;" width="24"></iconify-icon><a href="memberInfo.html"
                class="memberSystem-a text-gray-02">個人資料</a></li>
    </ul>
</aside>

<script>
    let currentPageURL = window.location.href;
    let memberSystemPage = document.querySelectorAll(".memberSystem-a");
    let activeIndex = -1;
    switch (true) {
        case currentPageURL.includes("overallSystem.html"):
            activeIndex = 0;
            break;
        case currentPageURL.includes("orderSystem.html"):
            activeIndex = 1;
            break;
        case currentPageURL.includes("voteSystem.html"):
            activeIndex = 2;
            break;
        case currentPageURL.includes("memberInfo.html"):
            activeIndex = 3;
            break;
    }
    if (activeIndex!==-1){
        memberSystemPage[activeIndex].classList.add("memberSystem-active")
    }

</script>
<style>
    .memberSystem-active {
        color: black !important;
    }

    .indexLogo {
        background-image: url(/TeaTime-Gathering/assets/logo-teatime-79c8d1bd.svg);
        display: block;
        text-indent: 101%;
        overflow: hidden;
        white-space: nowrap;
        width: 247px;
        height: 40px;
        background-size: cover;
    }
</style>                <!-- 右側欄位 -->

                <div class="col  pt-lg-24 px-0 px-lg-80">
                    <div
                        class="memberNav d-flex justify-content-between align-items-center  bg-gray-04 bg-lg-transparent p-12 py-lg-0 ">
                        <a class="btn d-lg-none" data-bs-toggle="offcanvas" href="#memberOffcanvas" role="button"
                            aria-controls="memberOffcanvas">
                            <iconify-icon width="24" icon="mingcute:menu-fill"></iconify-icon>
                        </a>
                        <iconify-icon class="ms-auto" icon="icon-park-outline:shop" width="24"
                            height="24"></iconify-icon>
                    </div>
                    <h2 class=" fw-bold mt-32 mt-lg-42 fs-32 px-12">訂餐管理</h2>
                    <ul class="member-ul mt-32 d-flex fw-bolder px-12 px-lg-0">
                        <li class="memberbtn fs-16 fs-lg-20 px-20 px-lg-24 py-12 "><a href="#">跟團中訂單</a></li>
                        <li class="memberbtn fs-16 fs-lg-20 px-20 px-lg-24 py-12"><a href="#">發起的開團</a></li>
                        <li class="memberbtn fs-16 fs-lg-20 px-20 px-lg-24 py-12"><a href="#">歷史訂單</a></li>
                    </ul>

                    <!-- 跟團中訂單 -->

                    <ul class="followUpOrder">
                    </ul>


                    <!-- 發起的開團 -->

                    <ul class="initiateGroup">
                    </ul>

                    <!-- 歷史訂單 -->

                    <ul class="historicalOrder">
                    </ul>

                </div>
        </div>

    </div>

    <!-- Modal -->
    <div class="modal fade" id="memberModal" tabindex="-1" aria-labelledby="memberModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content px-20">
                <div class="modal-header border-bottom-0 py-24">
                    <h5 class="modal-title" id="memberModalLabel">茶源 ChaSource</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body pt-0 ">
                    <div class="starInModal ms-auto  fs-24">
                        <span class="star" onclick="rateStar(1)">&#9733;</span>
                        <span class="star" onclick="rateStar(2)">&#9733;</span>
                        <span class="star" onclick="rateStar(3)">&#9733;</span>
                        <span class="star" onclick="rateStar(4)">&#9733;</span>
                        <span class="star" onclick="rateStar(5)">&#9733;</span>
                    </div>
                    <textarea placeholder="請輸入評價"
                        class="memberEvaluate mt-8 border-1 border-gray-04 rounded-1 w-100 bg-white text-dark "></textarea>
                    <div class="textareaLength mx-auto text-gray-02 fs-16 d-flex justify-content-end ">字數限制&ensp;0/100
                    </div>
                </div>
                <div class="modal-footer border-top-0">
                    <button type="button" class="btn btn-brand-03 text-white w-100">送出</button>
                </div>
            </div>
        </div>
    </div>


    <!-- offcanvas -->
    <div class="offcanvas offcanvas-start" tabindex="-1" id="memberOffcanvas" aria-labelledby="memberOffcanvasLabel">
        <div class="offcanvas-header pb-0">
            <img src="/TeaTime-Gathering/assets/logo-teatime-79c8d1bd.svg" alt="" width="150">
            <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>
        <div class="offcanvas-body pt-0">
            <ul class="mt-40 fs-20 fw-bolder gap-12">
                <li class="d-flex align-items-center ">
                    <iconify-icon class="me-10" icon="pajamas:overview" style="color: #1e1e1e;"
                        width="24"></iconify-icon>
                    <a href="orderSystem.html" class="text-gray-02">總覽</a>
                </li>
                </li>
                <li class="mt-40 d-flex align-items-center "><iconify-icon class="me-10"
                        icon="material-symbols:order-approve-outline" style="color: #1e1e1e;"
                        width="24"></iconify-icon><a href="orderSystem.html" class="text-gray-02">訂單管理</a></li>
                <li class="mt-40 d-flex align-items-center"><iconify-icon class="me-10" icon="mdi:vote"
                        style="color: #1e1e1e;" width="24"></iconify-icon><a href="voteSystem.html"
                        class="text-gray-02">投票管理</a></li>
                <li class="mt-40 d-flex align-items-center"><iconify-icon class="me-10"
                        icon="material-symbols:account-box" style="color: #1e1e1e;" width="24"></iconify-icon><a
                        href="orderSystem.html" class="text-gray-02">個人資料</a></li>
            </ul>
        </div>
    </div>

</body>

<script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tocas/4.2.5/tocas.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@tarekraafat/autocomplete.js@10.2.7/dist/autoComplete.min.js"></script>

<script>
    // <!-- 星等評價 -->
    let selectedStars = 0;
    function rateStar(star) {
        selectedStars = star;
        updateStars();
    }

    function updateStars() {
        for (let i = 1; i <= 5; i++) {
            const starInMember = document.querySelector(`.starInMember span:nth-child(${i})`);
            const starInModal = document.querySelector(`.starInModal span:nth-child(${i})`);
            const starInRwd = document.querySelector(`.starInRwd span:nth-child(${i})`);

            if (i <= selectedStars) {
                starInMember.style.color = "#ffd43a";
                starInModal.style.color = "#ffd43a";
                starInRwd.style.color = "#ffd43a";
            } else {
                starInMember.style.color = "#c2c1bd";
                starInModal.style.color = "#c2c1bd";
                starInRwd.style.color = "#c2c1bd";
            }
        }
    }
    // 畫面渲染
    let followUpOrder = document.querySelector(".followUpOrder");
    let initiateGroup = document.querySelector(".initiateGroup");
    let historicalOrder = document.querySelector(".historicalOrder");
    let memberbtn = document.querySelectorAll('.memberbtn');

    let followUpHTML = `
    <li class="p-24 border-bottom border-brand-03">
                            <div class="d-flex">

                                <aside class="me-40">
                                    <img src="/assets/images/banner/beverage/beverage-1-logo.jpg" alt="" width="96">
                                    <p
                                        class="bg-brand-05 py-4 mt-10 ms-auto text-brand-02 d-flex justify-content-center ">
                                        <span class="fw-bold fs-16">已付款</span>
                                    </p>
                                </aside>

                                <main>
                                    <nav>
                                        <h2 class="fs-24 fw-bold text-brand-03">茶源 ChaSource</h2>
                                        <p class="mt-4 text-gray-02">享用日期 2023/07/10 &nbsp; 付款人：Will Chen</p>
                                    </nav>
                                    <ul class="mt-12">
                                        <li class="d-flex mb-12">
                                            <div class="count border border-1 border-dark rounded-1 px-10 py-4 me-8">1
                                            </div>
                                            <div>
                                                <h3 class="fs-24 mb-4 text-gray-01 fw-bolder">玫瑰綠茶</h3>
                                                <ul class="text-gray-02">
                                                    <li class="d-flex mb-4">
                                                        <p>選項<span class="ms-16">少糖、去冰</span></p>
                                                    </li>
                                                    <li class="d-flex mb-4">
                                                        <p>備註<span class="ms-16">可以淡一點嗎？</span></p>
                                                    </li>
                                                </ul>
                                            </div>
                                        </li>

                                        <li class="d-flex">
                                            <div class="count border border-1 border-dark rounded-1 px-10 py-4 me-8">1
                                            </div>
                                            <div>
                                                <h3 class="fs-24 mb-4 text-gray-01 fw-bolder">阿薩姆紅茶</h3>
                                                <ul class="text-gray-02">
                                                    <li class="d-flex mb-4">
                                                        <p>選項<span class="ms-16">少糖、去冰</span></p>
                                                    </li>
                                                    <li class="d-flex mb-4">
                                                        <p>備註<span class="ms-16">無</span></p>
                                                    </li>
                                                </ul>
                                            </div>
                                        </li>
                                    </ul>
                                </main>
                            </div>
                        </li>
                        <li class="p-24 border-bottom border-brand-03">
                            <div class="d-flex">
                                <aside class="me-40">
                                    <img src="/assets/images/banner/fastfood/fastfood-3-logo.jpg" alt="" width="96">
                                    <p class="bg-brand-02 py-4 mt-10 ms-auto text-white d-flex justify-content-center ">
                                        <span class="fw-bold fs-16">未付款</span>
                                    </p>
                                </aside>

                                <main>
                                    <nav>
                                        <h2 class="fs-24 fw-bold text-brand-03">速食窩</h2>
                                        <p class="mt-4 text-gray-02">享用日期 2023/07/10 &nbsp;訂單金額 ：$30</p>
                                    </nav>
                                    <ul class="mt-12">
                                        <li class="d-flex">
                                            <div class="count border border-1 border-dark rounded-1 px-10 py-4 me-8">2
                                            </div>
                                            <div>
                                                <h3 class="fs-24 mb-4 text-gray-01 fw-bolder">可樂</h3>
                                                <ul class="text-gray-02">
                                                    <li class="d-flex mb-4">
                                                        <p>選項<span class="ms-16">少糖、去冰</span></p>
                                                    </li>
                                                    <li class="d-flex mb-4">
                                                        <p>備註<span class="ms-16">無</span></p>
                                                    </li>
                                                </ul>
                                            </div>
                                        </li>

                                    </ul>
                                </main>
                            </div>
                        </li>
    `;
    let initiateGroupHTML = `<li class="p-24 border-bottom border-brand-03">
                            <div class="d-flex flex-column flex-lg-row  ">

                                <aside class="me-40 d-flex justify-content-between align-items-lg-start  ">
                                    <div>
                                        <img src="/assets/images/banner/beverage/beverage-1-logo.jpg" alt="" width="96">
                                        <p
                                            class="bg-brand-02 py-4 mt-10 ms-auto text-white d-flex justify-content-center rounded-1 ">
                                            <span class="fw-bold fs-16">已成團</span>
                                        </p>
                                    </div>
                                    <span class="ms-auto d-block d-lg-none">
                                        <a href=""
                                            class="text-brand-01 border border-brand-01 rounded-1  px-10 py-4">管理訂單</a>
                                    </span>
                                </aside>

                                <div>
                                    <nav>
                                        <h2 class="fs-24 fw-bold text-brand-03 mt-12 mt-lg-0">茶源 ChaSource</h2>
                                    </nav>
                                    <ul class="fs-20 mt-12">
                                        <li>
                                            <p>享用日期:<span class="ms-16 me-8">08/12</span><span>14:30</span></p>
                                        </li>
                                        <li class="mt-8">
                                            <p>請客人:<span class="ms-16 me-8">無</span></p>

                                        </li>
                                        <li class="mt-8">
                                            <p>已付款人數<span class="ms-16 me-8">16/30</span></p>

                                        </li>
                                        <li class="mt-8">
                                            <p>訂單金額:<span class="ms-16 me-8 text-brand-02">$415</span></p>

                                        </li>
                                    </ul>
                                </div>
                                <span class="ms-auto d-none d-lg-block">
                                    <a href=""
                                        class="text-brand-01 border border-brand-01 rounded-1  px-10 py-4">管理訂單</a>
                                </span>
                            </div>
                        </li>

                        <li class="p-24 border-bottom border-brand-03">
                            <div class="d-flex flex-column flex-lg-row  ">

                                <aside class="me-40 d-flex justify-content-between align-items-lg-start  ">
                                    <div>
                                        <img src="/assets/images/banner/beverage/beverage-1-logo.jpg" alt="" width="96">
                                        <p
                                            class="bg-brand-06 py-4 mt-10 ms-auto text-brand-02 d-flex justify-content-center rounded-1">
                                            <span class="fw-bold fs-16">待成團</span>
                                        </p>
                                    </div>
                                    <span class="ms-auto d-block d-lg-none">
                                        <a href=""
                                            class="text-brand-01 border border-brand-01 rounded-1  px-10 py-4">管理訂單</a>
                                    </span>
                                </aside>

                                <div>
                                    <div class="d-flex">
                                        <h2 class="fs-24 fw-bold text-brand-03 mt-12 mt-lg-0">茶源 ChaSource</h2>
                                    </div>
                                    <ul class="fs-20 mt-12">
                                        <li>
                                            <p>享用日期:<span class="ms-16 me-8">08/12</span><span>14:30</span></p>
                                        </li>
                                        <li class="mt-8">
                                            <p>截止日期:<span class="ms-16 me-8">08/12</span><span>14:30</span></p>
                                        </li>
                                        <li class="mt-8">
                                            <p>請客人:<span class="ms-16 me-8">無</span></p>

                                        </li>
                                        <li class="d-flex mt-8 d-flex align-items-center ">
                                            <p>成團目標</p>
                                            <div class="ts-progress is-small ms-16 w-50 bg-gray-04">
                                                <div class="bar bg-brand-02" style="--value: 80">
                                                    <div class="text text-white">80%</div>
                                                </div>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                                <span class="ms-auto d-none d-lg-block">
                                    <a href=""
                                        class="text-brand-01 border border-brand-01 rounded-1  px-10 py-4">管理訂單</a>
                                </span>

                            </div>
                        </li>`;
    let historicalOrderHTML =

        `<li class="px-24 border-bottom border-brand-03">
            <div class="d-flex justify-content-between mt-12">
                            <div class="autoComplete_wrapper">
                            <input class="border border-2 border-gray-04 border-radius-28" id="test" type="search" dir="ltr" spellcheck=false autocorrect="off" autocomplete="off" autocapitalize="off">
                            </div>
                            <ul class="d-flex">
                            <li class="dropdown position-relative  me-8 ">
                                <button class="dropdown-btn bg-gray-04 text-gray-02 px-20 py-4">篩選</button>
                                <div class="dropdown-options first-option position-absolute">
                                <a href="#">已成團</a>
                                <a href="#">未成團</a>
                                </div>
                            </li>
                            <li class="dropdown position-relative">
                                <button class="dropdown-btn bg-gray-04 text-gray-02 px-20 py-4">排序</button>
                                <div class="dropdown-options  position-absolute ms-auto ">
                                <a href="#">享用日期:舊→新</a>
                                <a href="#">享用日期:新→舊</a>
                                <a href="#">成團日期:舊→新</a>
                                <a href="#">成團日期:新→舊</a>
                                </div>
                            </li>
                            </ul>
                        </div>

<div class="d-flex flex-column flex-lg-row  mt-24">
    
    <aside class="me-40 d-flex justify-content-between align-items-lg-start  ">
        <img src="/assets/images/banner/beverage/beverage-1-logo.jpg" alt="" width="96">
        <span class="ms-auto d-block d-lg-none">
            <a href=""
                class="text-brand-01 border border-brand-01 rounded-1  px-10 py-4">顯示店家</a>
        </span>
    </aside>

    <div class="d-flex justify-content-between w-100 ">
        
        <div>
            <h2 class="fs-24 fw-bold text-brand-03 mt-12 mt-lg-0">茶源 ChaSource</h2>
            <p class="mt-4 text-gray-02">享用日期 2023/07/10‧付款人：Will Chen</p>
            <div class="starInRwd ms-auto  fs-24 d-flex align-items-center d-lg-none">
                <div class="lh-sm">
                    <span class="star" onclick="rateStar(1)">&#9733;</span>
                    <span class="star" onclick="rateStar(2)">&#9733;</span>
                    <span class="star" onclick="rateStar(3)">&#9733;</span>
                    <span class="star" onclick="rateStar(4)">&#9733;</span>
                    <span class="star" onclick="rateStar(5)">&#9733;</span>
                </div>
                <div class="ms-4 "><a href="" class="fs-16 text-gray-02"
                        data-bs-toggle="modal" data-bs-target="#memberModal">分享評價</a>
                </div>
            </div>
            <ul class="mt-12">
                <li class="d-flex mb-12">
                    <div
                        class="count border border-1 border-dark rounded-1 px-10 py-4 me-8">
                        1
                    </div>
                    <div>
                        <h3 class="fs-24 mb-4 text-gray-01 fw-bolder">玫瑰綠茶</h3>
                        <ul class="text-gray-02">
                            <li class="d-flex mb-4">
                                <p>選項<span class="ms-16">少糖、去冰</span></p>
                            </li>
                            <li class="d-flex mb-4">
                                <p>備註<span class="ms-16">可以淡一點嗎？</span></p>
                            </li>
                        </ul>
                    </div>
                </li>

                <li class="d-flex">
                    <div
                        class="count border border-1 border-dark rounded-1 px-10 py-4 me-8">
                        1
                    </div>
                    <div>
                        <h3 class="fs-24 mb-4 text-gray-01 fw-bolder">玫瑰綠茶</h3>
                        <ul class="text-gray-02">
                            <li class="d-flex mb-4">
                                <p>選項<span class="ms-16">少糖、去冰</span></p>
                            </li>
                            <li class="d-flex mb-4">
                                <p>備註<span class="ms-16">無</span></p>
                            </li>
                        </ul>
                    </div>
                </li>

            </ul>
        </div>
        <div class="starInMember ms-auto  fs-24 d-none d-lg-block">
            <div class="lh-sm">
                <span class="star" onclick="rateStar(1)">&#9733;</span>
                <span class="star" onclick="rateStar(2)">&#9733;</span>
                <span class="star" onclick="rateStar(3)">&#9733;</span>
                <span class="star" onclick="rateStar(4)">&#9733;</span>
                <span class="star" onclick="rateStar(5)">&#9733;</span>
            </div>
            <div class="d-flex justify-content-end "><a href="" class="fs-16 text-gray-02"
                    data-bs-toggle="modal" data-bs-target="#memberModal">分享評價</a>
            </div>
        </div>
        <span class="ms-auto d-none d-lg-block">
            <a href="store-order.html"
                class="text-brand-01 border border-brand-01 rounded-1  px-10 py-4">顯示店家</a>
        </span>
    </div>
</div>
</li>`

        ;

    window.onload = function () {
        followUpOrder.innerHTML = followUpHTML
    }

    memberbtn.forEach(btnType => {

        btnType.addEventListener('click', () => {
            memberbtn.forEach(btn => {
                btn.classList.remove('memberbtn-actived');
            })
            btnType.classList.add('memberbtn-actived');

            if (memberbtn[0] === btnType) {
                followUpOrder.innerHTML = followUpHTML;
                initiateGroup.innerHTML = "";
                historicalOrder.innerHTML = "";
            }
            else if (memberbtn[1] === btnType) {
                followUpOrder.innerHTML = "";
                initiateGroup.innerHTML = initiateGroupHTML;
                historicalOrder.innerHTML = "";
            }
            else if (memberbtn[2] === btnType) {
                followUpOrder.innerHTML = "";
                initiateGroup.innerHTML = "";
                historicalOrder.innerHTML = historicalOrderHTML;
                autocomplete();
            }
        })
    })


    // autocomplete
    function autocomplete() {
        const autoCompleteJ = new autoComplete({
            selector: "#test",
            placeHolder: "Search for Food...",
            data: {
                src: ["Sauce - Thousand Island", "Wild Boar - Tenderloin", "Goat - Whole Cut"],
                cache: true,
            },
            resultsList: {
                element: (list, data) => {
                    if (!data.results.length) {
                        // Create "No Results" message element
                        const message = document.createElement("div");
                        // Add class to the created element
                        message.setAttribute("class", "no_result");
                        // Add message text content
                        message.innerHTML = `<span>Found No Results for "${data.query}"</span>`;
                        // Append message element to the results list
                        list.prepend(message);
                    }
                },
                noResults: true,
            },
            resultItem: {
                highlight: true
            },
            events: {
                input: {
                    selection: (event) => {
                        const selection = event.detail.selection.value;
                        autoCompleteJ.input.value = selection;
                    }
                }
            }
        });
    }

    // 字數統計
    let memberEvaluate = document.querySelector(".memberEvaluate");
    let textareaLength = document.querySelector(".textareaLength");
    memberEvaluate.addEventListener("keyup", function () {
        let inputText = memberEvaluate.value;
        let inputLength = inputText.length
        textareaLength.textContent = `字數限制 ${inputLength}/100`
    })

</script>

</html>