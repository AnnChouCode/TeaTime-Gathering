<!DOCTYPE html>
<html lang="en" class="is-light">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>下午茶揪團去｜共享美味，打造回憶</title>
  <!-- Favicon -->
  <link rel="icon" href="/TeaTime-Gathering/assets/logo-favicon-a850431b.png" type="image/x-icon" />
  <!-- Swiper Css CDN -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.css">
  <!-- Open Graph Tag -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="下午茶揪團去">
  <meta property="og:description" content="共享美味，打造回憶">
  <meta property="og:url" content="https://annchoucode.github.io/TeaTime-Gathering/">
  <meta property="og:image"
    content="https://raw.githubusercontent.com/AnnChouCode/TeaTime-Gathering/main/assets/images/store-logo/store-01.jpg" />
  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="下午茶揪團去" />
  <meta name="twitter:description" content="共享美味，打造回憶" />
  <meta name="twitter:image"
    content="https://raw.githubusercontent.com/AnnChouCode/TeaTime-Gathering/main/assets/images/store-logo/store-01.jpg" />
  <!-- FONTS -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
  <!-- ICONS -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
  <!-- 月曆 evo calendar -->
  <link rel="stylesheet" type="text/css"
    href="https://cdn.jsdelivr.net/npm/evo-calendar@1.1.2/evo-calendar/css/evo-calendar.min.css" />
  <!-- 時間選擇器 flatpickr -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
  <!-- 進度條 tocas progress -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tocas/4.2.5/tocas.min.css" />
  <script type="module" crossorigin src="/TeaTime-Gathering/assets/main-6c7b1736.js"></script>
  <link rel="stylesheet" href="/TeaTime-Gathering/assets/main-c0769612.css">
</head>

<body class="pt-64 pt-md-82">
  <!-- loading -->
  <style>
  .animation-bounceIn{
    animation: bounceIn 1s infinite;
    transform: rotate(0deg) scale(1) translateZ(0);
    transition: all 0.4s cubic-bezier(.8,1.8,.75,.75);
  }
  .loading-content{
    display: flex;
    justify-content: center;
    align-items: center;
  }
  @keyframes bounceIn {
    0% {
      opacity: 1;
      transform: scale(.3);
    } 

    50% {
      opacity: 1;
      transform: scale(1.05);
    } 

    70% {
      opacity: 1;
      transform: scale(.9);
    }

    100% {
      opacity: 1;
      transform: scale(1);
    }
  }
</style>
<div id="loading"
  style="
  width: 100%;
  background-color: #FDF1EF;
  height: 100vh;
  position: fixed;
  top:0;
  z-index: 1041;
  ">
  <div class="loading-content" 
  style="
  width: 100%;
  height:100vh
  ">
    <div
      style="
      background: url(/TeaTime-Gathering/assets/loading-1759762c.png) no-repeat center center /contain;
      width: 10%;
      /* width: 100%; */
      background-color: #FDF1EF;
      height: 100vh;
      position: fixed;
      top:0;
      z-index: 1040;"
      class="animation-bounceIn"
      >
    </div>
  </div>
</div>

<script>
  // 使用 DOMContentLoaded 事件确保页面 DOM 加载完毕
  document.addEventListener('DOMContentLoaded', () => {
    // 获取 loading 元素
    const loadingElement = document.getElementById('loading');

    setTimeout(function() {
      // 隐藏 loading 元素
      loadingElement.style.display = 'none';

    }, 1000);
    
    // 初始化你的应用程序，可以开始加载其他资源
  });
</script>
    <nav>
    <div class="fixed-top bg-white">
        <div class="position-relative layout-content">
            <div class="d-flex align-items-center justify-content-between gap-8 py-lg-16 py-8 container">
                <!-- nav list left -->
                <ul class="d-lg-flex d-none gap-xxl-48 gap-16">
                    <li><a class="nav-list" href="findStore.html">點餐</a></li>
                    <!-- <li><a class="nav-list" href="#">投票</a></li> -->
                    <li><a class="nav-list" href="calendar.html">訂餐月曆</a></li>
                    <li><a class="nav-list" href="#">訂單</a></li>
                </ul>
                <!-- nav logo -->
                <h1 class="position-absolute me-lg-8 nav-logo"><a href="index.html">下午茶揪團去</a></h1>
                <!-- nav-icon right-->
                <ul class="d-lg-flex d-none gap-lg-16 gap-8">
                    <!-- 按鈕-通知 -->
                    <li>
                        <a class="nav-icon-hover" href="#">
                            <iconify-icon class="p-8 bg-brand-04 rounded-circle" icon="ant-design:message-outlined"
                                style="color: #bfa373;" width="28"></iconify-icon>
                        </a>
                    </li>
                    <!-- 按鈕-新手教學 -->
                    <li>
                        <a href="#" class="nav-icon-hover">
                            <iconify-icon class="p-8 bg-brand-04 rounded-circle" icon="ion:help" style="color: #bfa373;"
                                width="28"></iconify-icon></a>
                    </li>
                    <!-- 按鈕-登入 -->
                    <li class="btnLogin">
                        <a href="#accountModal" data-bs-toggle="modal" class="nav-icon-hover"><iconify-icon
                                class="p-8 bg-brand-04 rounded-circle" icon="line-md:account" style="color: #bfa373;"
                                width="28"></iconify-icon></a>
                    </li>
                    <!-- 按鈕-使用者已登入選單 -->
                    <li class="d-none btnUserLoggedIn">
                        <a href="../pages/overallSystem.html"
                            class="p-8 bg-brand-04 rounded-circle fs-20 text-brand-03 text-center fw-medium lh-sm nav-icon-hover"
                            style="width: 44px;height: 44px;">L</a>
                    </li>
                    <!-- 按鈕-登出 -->
                    <li class="d-none btnLogOut">
                        <a href="#" class="nav-icon-hover p-8 bg-brand-04 rounded-circle">
                            <svg xmlns="http://www.w3.org/2000/svg" width="29" height="28" viewBox="0 0 29 28"
                                fill="none">
                                <path
                                    d="M14.8716 15.1667L12.1883 17.8383C12.0789 17.9468 11.9921 18.0758 11.9329 18.218C11.8737 18.3602 11.8432 18.5127 11.8432 18.6667C11.8432 18.8207 11.8737 18.9732 11.9329 19.1153C11.9921 19.2575 12.0789 19.3865 12.1883 19.495C12.2967 19.6044 12.4258 19.6911 12.5679 19.7504C12.7101 19.8096 12.8626 19.8401 13.0166 19.8401C13.1706 19.8401 13.3231 19.8096 13.4653 19.7504C13.6074 19.6911 13.7365 19.6044 13.8449 19.495L18.5116 14.8283C18.6178 14.7174 18.7011 14.5865 18.7566 14.4433C18.8733 14.1593 18.8733 13.8407 18.7566 13.5567C18.7011 13.4135 18.6178 13.2826 18.5116 13.1717L13.8449 8.505C13.7362 8.39623 13.607 8.30994 13.4649 8.25107C13.3228 8.1922 13.1704 8.1619 13.0166 8.1619C12.8628 8.1619 12.7104 8.1922 12.5683 8.25107C12.4262 8.30994 12.297 8.39623 12.1883 8.505C12.0795 8.61378 11.9932 8.74292 11.9343 8.88505C11.8755 9.02717 11.8452 9.1795 11.8452 9.33334C11.8452 9.48717 11.8755 9.6395 11.9343 9.78163C11.9932 9.92375 12.0795 10.0529 12.1883 10.1617L14.8716 12.8333H3.68327C3.37385 12.8333 3.0771 12.9563 2.85831 13.175C2.63952 13.3938 2.5166 13.6906 2.5166 14C2.5166 14.3094 2.63952 14.6062 2.85831 14.825C3.0771 15.0438 3.37385 15.1667 3.68327 15.1667H14.8716ZM14.1833 2.33334C12.0029 2.3236 9.86339 2.92509 8.00748 4.06956C6.15158 5.21404 4.65353 6.8557 3.68327 8.80834C3.54403 9.08682 3.52112 9.4092 3.61958 9.70457C3.71803 9.99994 3.92979 10.2441 4.20827 10.3833C4.48675 10.5226 4.80913 10.5455 5.1045 10.447C5.39987 10.3486 5.64403 10.1368 5.78327 9.85834C6.52082 8.36888 7.64274 7.10339 9.03308 6.19266C10.4234 5.28192 12.0317 4.75897 13.6918 4.67786C15.3519 4.59675 17.0035 4.96041 18.476 5.73127C19.9485 6.50212 21.1885 7.65221 22.0677 9.06267C22.947 10.4731 23.4336 12.0928 23.4774 13.7543C23.5212 15.4158 23.1205 17.0588 22.3167 18.5136C21.5129 19.9684 20.3353 21.1822 18.9054 22.0295C17.4755 22.8768 15.8453 23.3269 14.1833 23.3333C12.4436 23.3409 10.7371 22.8578 9.25957 21.9395C7.78204 21.0212 6.59335 19.7049 5.82993 18.1417C5.6907 17.8632 5.44654 17.6514 5.15117 17.553C4.8558 17.4545 4.53341 17.4774 4.25493 17.6167C3.97646 17.7559 3.7647 18.0001 3.66624 18.2954C3.56779 18.5908 3.5907 18.9132 3.72993 19.1917C4.6549 21.0531 6.06038 22.6336 7.80098 23.7697C9.54159 24.9058 11.5541 25.5563 13.6304 25.6538C15.7067 25.7513 17.7713 25.2924 19.6108 24.3244C21.4502 23.3565 22.9976 21.9147 24.093 20.1481C25.1884 18.3816 25.7919 16.3545 25.8412 14.2765C25.8904 12.1985 25.3836 10.1451 24.3732 8.32864C23.3628 6.51219 21.8854 4.99867 20.0939 3.94463C18.3024 2.89059 16.2618 2.33431 14.1833 2.33334Z"
                                    fill="#BFA373" />
                            </svg></a>
                    </li>
                </ul>
                <!-- search-bar  -->
                <div class="position-relative d-lg-none me-lg-16 ms-170">
                    <iconify-icon class="position-absolute search-icon" icon="iconamoon:search" style="color: #8b8b8a;"
                        width="24"></iconify-icon>
                    <input type="text"
                        class="py-10 px-16 ps-48 border border-2 border-gray-04 border-radius-28 search-bar"
                        placeholder="搜尋" aria-label="search" aria-describedby="basic-addon1">
                </div>
                <!-- btn-menu -->
                <a class="d-lg-none d-block" data-bs-toggle="offcanvas" href="#offcanvasTop"
                    aria-controls="offcanvasTop">
                    <iconify-icon icon="uil:apps" style="color: #f0bd68;" width="28"></iconify-icon>
                </a>
                <!-- nav menu offcanvas -->
                <div class="offcanvas offcanvas-top vh-100" data-bs-scroll="true" tabindex="-1" id="offcanvasTop"
                    aria-labelledby="offcanvasTopLabel">
                    <div class="py-16 px-12 offcanvas-header">
                        <img style="width: 148px; height: 24px;" src="/TeaTime-Gathering/assets/logo-teatime-79c8d1bd.svg" alt="">
                        <a href="#" data-bs-dismiss="offcanvas" aria-label="Close"><iconify-icon icon="ic:round-close"
                                style="color: #bfa373;" width="28"></iconify-icon></a>
                    </div>
                    <div class="offcanvas-body d-flex flex-column justify-content-between py-24 px-12">
                        <ul class="fs-32 offcanvas-list">
                            <li><a class="p-16 fw-bold d-block" href="findStore.html">點餐</a></li>
                            <!-- <li><a class="p-16 fw-bold d-block" href="#">投票</a></li> -->
                            <li><a class="p-16 fw-bold d-block" href="calendar.html">訂餐月曆</a></li>
                            <li><a class="p-16 fw-bold d-block" href="#">訂單</a></li>
                        </ul>
                        <ul class="d-flex justify-content-center gap-20">
                            <!-- 通知按鈕 -->
                            <li>
                                <a href="#notificationCollapseModal"
                                    class="position-relative d-block notification-hover btnNotification"
                                    data-bs-toggle="modal">
                                    <iconify-icon class="p-8 bg-brand-02 rounded-circle"
                                        icon="ion:notifications-outline" style="color: white;" width="28"
                                        height="28"></iconify-icon>
                                    <div
                                        class="btn-notification-alert rounded-circle bg-white position-absolute btnNotificationAlert">
                                    </div>
                                </a>
                            </li>
                            <!-- 留言按鈕 -->
                            <li>
                                <a href="#" class="nav-icon-hover"><iconify-icon class="p-8 bg-brand-04 rounded-circle"
                                        icon="ant-design:message-outlined" style="color: #bfa373;"
                                        width="28"></iconify-icon></a>
                            </li>
                            <!-- 新手教學按鈕 -->
                            <li>
                                <a href="#" class="nav-icon-hover">
                                    <iconify-icon class="p-8 bg-brand-04 rounded-circle" icon="ion:help"
                                        style="color: #bfa373;" width="28"></iconify-icon></a>
                            </li>
                            <!-- 登入按鈕 -->
                            <li class="btnLogin">
                                <a href="#accountModal" class="nav-icon-hover" data-bs-toggle="modal"><iconify-icon
                                        class="p-8 bg-brand-04 rounded-circle" icon="line-md:account"
                                        style="color: #bfa373;" width="28"></iconify-icon></a>
                            </li>
                            <!-- 按鈕-使用者已登入選單 -->
                            <li class="d-none btnUserLoggedIn">
                                <a href="../pages/overallSystem.html"
                                    class="p-8 bg-brand-04 rounded-circle fs-20 text-brand-03 text-center fw-medium lh-sm nav-icon-hover"
                                    style="width: 44px;height: 44px;">L</a>
                            </li>
                            <!-- 按鈕-登出 -->
                            <li class="d-none btnLogOut">
                                <a href="#" class="nav-icon-hover p-8 bg-brand-04 rounded-circle">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="29" height="28" viewBox="0 0 29 28"
                                        fill="none">
                                        <path
                                            d="M14.8716 15.1667L12.1883 17.8383C12.0789 17.9468 11.9921 18.0758 11.9329 18.218C11.8737 18.3602 11.8432 18.5127 11.8432 18.6667C11.8432 18.8207 11.8737 18.9732 11.9329 19.1153C11.9921 19.2575 12.0789 19.3865 12.1883 19.495C12.2967 19.6044 12.4258 19.6911 12.5679 19.7504C12.7101 19.8096 12.8626 19.8401 13.0166 19.8401C13.1706 19.8401 13.3231 19.8096 13.4653 19.7504C13.6074 19.6911 13.7365 19.6044 13.8449 19.495L18.5116 14.8283C18.6178 14.7174 18.7011 14.5865 18.7566 14.4433C18.8733 14.1593 18.8733 13.8407 18.7566 13.5567C18.7011 13.4135 18.6178 13.2826 18.5116 13.1717L13.8449 8.505C13.7362 8.39623 13.607 8.30994 13.4649 8.25107C13.3228 8.1922 13.1704 8.1619 13.0166 8.1619C12.8628 8.1619 12.7104 8.1922 12.5683 8.25107C12.4262 8.30994 12.297 8.39623 12.1883 8.505C12.0795 8.61378 11.9932 8.74292 11.9343 8.88505C11.8755 9.02717 11.8452 9.1795 11.8452 9.33334C11.8452 9.48717 11.8755 9.6395 11.9343 9.78163C11.9932 9.92375 12.0795 10.0529 12.1883 10.1617L14.8716 12.8333H3.68327C3.37385 12.8333 3.0771 12.9563 2.85831 13.175C2.63952 13.3938 2.5166 13.6906 2.5166 14C2.5166 14.3094 2.63952 14.6062 2.85831 14.825C3.0771 15.0438 3.37385 15.1667 3.68327 15.1667H14.8716ZM14.1833 2.33334C12.0029 2.3236 9.86339 2.92509 8.00748 4.06956C6.15158 5.21404 4.65353 6.8557 3.68327 8.80834C3.54403 9.08682 3.52112 9.4092 3.61958 9.70457C3.71803 9.99994 3.92979 10.2441 4.20827 10.3833C4.48675 10.5226 4.80913 10.5455 5.1045 10.447C5.39987 10.3486 5.64403 10.1368 5.78327 9.85834C6.52082 8.36888 7.64274 7.10339 9.03308 6.19266C10.4234 5.28192 12.0317 4.75897 13.6918 4.67786C15.3519 4.59675 17.0035 4.96041 18.476 5.73127C19.9485 6.50212 21.1885 7.65221 22.0677 9.06267C22.947 10.4731 23.4336 12.0928 23.4774 13.7543C23.5212 15.4158 23.1205 17.0588 22.3167 18.5136C21.5129 19.9684 20.3353 21.1822 18.9054 22.0295C17.4755 22.8768 15.8453 23.3269 14.1833 23.3333C12.4436 23.3409 10.7371 22.8578 9.25957 21.9395C7.78204 21.0212 6.59335 19.7049 5.82993 18.1417C5.6907 17.8632 5.44654 17.6514 5.15117 17.553C4.8558 17.4545 4.53341 17.4774 4.25493 17.6167C3.97646 17.7559 3.7647 18.0001 3.66624 18.2954C3.56779 18.5908 3.5907 18.9132 3.72993 19.1917C4.6549 21.0531 6.06038 22.6336 7.80098 23.7697C9.54159 24.9058 11.5541 25.5563 13.6304 25.6538C15.7067 25.7513 17.7713 25.2924 19.6108 24.3244C21.4502 23.3565 22.9976 21.9147 24.093 20.1481C25.1884 18.3816 25.7919 16.3545 25.8412 14.2765C25.8904 12.1985 25.3836 10.1451 24.3732 8.32864C23.3628 6.51219 21.8854 4.99867 20.0939 3.94463C18.3024 2.89059 16.2618 2.33431 14.1833 2.33334Z"
                                            fill="#BFA373" />
                                    </svg></a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
</nav>

<!-- nav account modal -->
<div class="modal fade account-login-modal form-validated-effect" id="accountModal" tabindex="-1"
    aria-labelledby="exampleModalLabel" aria-hidden="true" data-backdrop="false">
    <div class="modal-dialog modal-dialog-centered account-modal-dialog">
        <div class="d-flex modal-content border-radius-24">
            <div class="modal-header py-lg-24 px-lg-40 p-16 border-0">
                <h5 class="modal-title fs-lg-24 fw-lg-bold lh-sm fs-20 fw-medium ">登入</h5>
                <a href="#accountModal" data-bs-toggle="modal"><iconify-icon icon="ic:round-close"
                        style="color: #8B8B8A;" width="32"></iconify-icon></a>
            </div>
            <div class="modal-body d-flex flex-column gap-lg-20 gap-12 p-lg-40 pt-lg-16 p-16 pt-8">
                <!-- switch user & admin login -->
                <ul class="d-flex p-8 rounded-pill bg-brand-05">
                    <li class="w-50"><a
                            class="d-block fw-medium py-lg-12 py-10 lh-sm text-center rounded-pill btn-brand-02 btn-hover-bg-2 btn-active-brand-02 btnSwitchIdentity"
                            href="#">會員登入</a></li>
                    <li class="w-50"><a
                            class="d-block py-lg-12 py-10 fw-medium lh-sm text-center rounded-pill btn-brand-02 btn-hover-bg-2 btnSwitchIdentity"
                            href="#">管理員登入</a></li>
                </ul>
                <!-- input - account & password -->
                <form class="needs-validation" action="#" method="post" novalidate>
                    <div class="mb-lg-20 mb-12">
                        <input
                            class="form-control custom-form-focus mb-lg-20 mb-12 p-16 border border-2 border-gray-04 border-radius-28 login-bar inputLoginAccount"
                            type="email" id="nav-account" name="nav-account" placeholder="請輸入信箱"
                            aria-describedby="nav-account" value="ling-huang@fat-together.com" required>
                        <input
                            class="form-control custom-form-focus p-16 border border-2 border-gray-04 border-radius-28 login-bar inputLoginPassword"
                            type="password" id="nav-password" name="nav-password" placeholder="請輸入密碼"
                            aria-describedby="nav-password" value="ling-huang" required>
                        <div class="invalid-feedback ms-16">
                            電子郵件帳號或密碼輸入錯誤
                        </div>
                    </div>
                    <!-- option -->
                    <div class="d-flex justify-content-between mb-lg-20 mb-12">
                        <label class="remember-content text-brand-01 fw-medium lh-sm" for="remember-check">記住我
                            <input class="remember-checkbox" type="checkbox" id="remember-check" name="remember-me">
                            <span class="remember-checkmark"></span>
                        </label>
                        <a href="reset-password.html" class="text-brand-01 fw-medium lh-sm btn-reset-password">忘記密碼？</a>
                    </div>
                    <!-- submit -->
                    <button type="submit"
                        class="p-lg-14 p-12 fs-20 fw-medium lh-sm rounded-pill text-white border-0 w-100 btn-brand-03 btn-hover-brand-01 btnLoginSubmit">登入</button>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- notification modal in collapse -->
<div class="modal fade account-login-modal" id="notificationCollapseModal" tabindex="-1"
    aria-labelledby="exampleModalLabel" aria-hidden="true" data-backdrop="false">
    <div class="modal-dialog modal-dialog-centered account-modal-dialog">
        <div class="modal-content overflow-hidden modal-sm-mx12 border-radius-24">
            <div class="d-flex justify-content-between align-items-center py-md-20 px-md-24 p-16 bg-brand-05">
                <span class="fs-md-24 fs-20 fw-bold lh-sm ">通知</span>
                <a href="#notificationCollapseModal" data-bs-toggle="modal"><iconify-icon icon="ic:round-close"
                        style="color: #8B8B8A;" width="32"></iconify-icon></a>
            </div>
            <div class="modal-body px-md-20 py-md-24 p-16">
                <ul class=" notification-messages">
                    <li><a href="#" class="d-block">
                            <p class="mb-12 text-brand-02 fw-medium fs-md-20 fs-16 lh-sm">您的投票結果已開票！請前往跟團點餐</p>
                            <div class="d-flex justify-content-between mb-8">
                                <span class="text-gray-02">店家</span>
                                <span>飲舞者</span>
                            </div>
                            <div class="d-flex justify-content-between ">
                                <span class="text-gray-02">預定訂購時間</span>
                                <time>2023/08/14</time>
                            </div>
                        </a></li>
                    <li><a href="#" class="d-block">
                            <p class="mb-12 text-brand-02 fw-medium fs-md-20 fs-16 lh-sm">您的跟團已確認成團！請盡速向團主付款</p>
                            <div class="d-flex justify-content-between mb-8">
                                <span class="text-gray-02">店家</span>
                                <span>飛餐</span>
                            </div>
                            <div class="d-flex justify-content-between ">
                                <span class="text-gray-02">預定訂購時間</span>
                                <time>2023/08/12</time>
                            </div>
                        </a></li>
                    <li><a href="#" class="d-block">
                            <p class="mb-12 text-brand-02 fw-medium fs-md-20 fs-16 lh-sm">您主辦的開團失敗！謝謝您的發起</p>
                            <div class="d-flex justify-content-between mb-8">
                                <span class="text-gray-02">店家</span>
                                <span>速食窩</span>
                            </div>
                            <div class="d-flex justify-content-between ">
                                <span class="text-gray-02">預定訂購時間</span>
                                <time>無</time>
                            </div>
                        </a></li>
                    <li><a href="#" class="d-block">
                            <p class="mb-12 text-brand-02 fw-medium fs-md-20 fs-16 lh-sm">跟團訂單「編號 11111」已付款</p>
                            <div class="d-flex justify-content-between mb-8">
                                <span class="text-gray-02">店家</span>
                                <span>飛餐</span>
                            </div>
                            <div class="d-flex justify-content-between ">
                                <span class="text-gray-02">預定訂購時間</span>
                                <time>2023/08/12</time>
                            </div>
                        </a></li>
                    <li><a href="#" class="d-block">
                            <p class="mb-12 text-brand-02 fw-medium fs-md-20 fs-16 lh-sm">您的投票結果已開票！請前往跟團點餐</p>
                            <div class="d-flex justify-content-between mb-8">
                                <span class="text-gray-02">店家</span>
                                <span>茶源 ChaSource</span>
                            </div>
                            <div class="d-flex justify-content-between ">
                                <span class="text-gray-02">預定訂購時間</span>
                                <time>2023/08/18</time>
                            </div>
                        </a></li>
                </ul>
            </div>
        </div>
    </div>
</div>

<!-- jQuery Import -->
<script src="https://code.jquery.com/jquery-3.7.0.slim.min.js"
    integrity="sha256-tG5mcZUtJsZvyKAxYLVXrmjKBVLd6VpVccqz/r4ypFE=" crossorigin="anonymous"></script>
<!-- jQuery -->
<script>
    /* Validation 填寫檢驗 */
    $('.needs-validation').each(function (index) {
        $(this).on('submit', function (e) {
            e.preventDefault();
            $(this).addClass('was-validated');
        });
    });

    /* 通知按鈕點擊切換通知提示圓點 */
    $('.btnNotification').click(function (e) {
        $('.btnNotificationAlert').addClass('d-none');
    });

    /* 登入會員/管理員 按鈕 active 狀態切換顯示 */
    $('.btnSwitchIdentity').click(function (e) {
        $('.btnSwitchIdentity').toggleClass('btn-active-brand-02');
    });

    /* navbar 摺疊 collapse 選單切換 active */
    $('.offcanvas-list a').click(function (e) {
        $('.offcanvas-list a').removeClass('nav-offcanvas-active');
        $(this).toggleClass('nav-offcanvas-active');
    });
</script>


<script>
    /* 登入/登出 狀態 icon 顯示切換 */
    // form-帳密輸入表單
    const loginForm = document.querySelector(".needs-validation");
    // input-帳密輸入
    const inputLoginAccount = document.querySelector(".inputLoginAccount");
    const inputLoginPassword = document.querySelector(".inputLoginPassword");
    // 按鈕-登入資料送出
    const btnLoginSubmit = document.querySelectorAll(".btnLoginSubmit");
    // 按鈕-navbar 登入、已登入、登出 icon
    const btnLogin = document.querySelectorAll(".btnLogin")
    const btnUserLoggedIn = document.querySelectorAll(".btnUserLoggedIn")
    const btnLogOut = document.querySelectorAll(".btnLogOut")

    // 登入
    btnLoginSubmit.forEach(btn => {
        btn.addEventListener("click", () => {
            // input-帳密輸入值
            const accountValue = inputLoginAccount.value;
            const passwordValue = inputLoginPassword.value;

            // 檢查 loginForm 通過驗證，失敗則為 ture，添加顯示樣式
            if (!loginForm.checkValidity()) {
                loginForm.classList.add('was-validated');
            }

            // Login 成功條件 & 失敗
            if (accountValue === "ling-huang@fat-together.com" && passwordValue === "ling-huang") {
                btnLogOut.forEach(btn => {
                    btn.classList.remove("d-none");
                });
                btnUserLoggedIn.forEach(btn => {
                    btn.classList.remove("d-none");
                });
                btnLogin.forEach(btn => {
                    btn.classList.add("d-none");
                });
                $('#accountModal').modal('hide');
            } else {
                // 登入失敗
                const errorFeedback = document.querySelector(".invalid-feedback");
                errorFeedback.style.display = 'block';
            }

        });
    });


    // 登出
    btnLogOut.forEach(btn => {
        btn.addEventListener("click", () => {
            btnLogOut.forEach(btn => {
                btn.classList.add("d-none");
            });
            btnUserLoggedIn.forEach(btn => {
                btn.classList.add("d-none");
            });
            btnLogin.forEach(btn => {
                btn.classList.remove("d-none");
            });;
        })
    })
</script>      <div class="py-32 py-md-80 layout-content container calendar">
        <h2 class="mb-16 mb-md-32 fs-24 fs-md-32 fw-bold lh-sm">訂餐月曆</h2>
        <div class="row flex-column flex-md-row gy-48 g-md-24">
          <!-- 月曆 -->
          <div class="col col-md-5">
            <div id="calendar" class="mb-32"></div>
            <div class="d-flex gap-4">
              <button type="button"
                class="px-16 py-10 px-sm-23 py-sm-14 border-radius-40 border-0 btn btn-brand-04 text-brand-01 d-flex justify-content-center align-items-center btn-hover-bg-1 w-50 fs-20 fw-medium "
                data-bs-toggle="modal" data-bs-target="#modal-CreateVoting">
                建立投票
              </button>
              <button type="button"
                class="px-16 py-10 px-sm-23 py-sm-14 border-radius-40 border-0 btn btn-brand-05 text-brand-02 d-flex justify-content-center align-items-center btn-hover-bg-2 w-50 fs-20 fw-medium "
                data-bs-toggle="modal" data-bs-target="#modal-CreateGroup">
                建立揪團
              </button>
            </div>
          </div>
          <!-- 活動內容 -->
          <ul class="col col-md-7 d-flex flex-column gap-48 gap-md-72 pt-32 pt-md-48 calendarEvent">
          </ul>
        </div>
      </div>

      <!-- 建立揪團 Modal -->
      <div class="modal fade" id="modal-CreateGroup" tabindex="-1" aria-labelledby="modal-CreateGroup"
        aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content">
            <div class="modal-header border-0">
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body text-center fs-20 fw-medium py-40">
              <p>請前往<a class="text-brand-02 btn-hover-underline-brand-02" href="./findStore.html">『找店家』</a></p>
              <p>選擇建立揪團的店家</p>
            </div>
          </div>
        </div>
      </div>

      <!-- 投票檢索 & 投票 Modal -->
      <div class="modal fade" id="modal-VotingModal" tabindex="-1" aria-labelledby="modal-VotingModal"
        aria-hidden="true" data-backdrop="false">
        <div class="modal-dialog modal-xl modal-dialog-centered">
          <div class="d-flex modal-content border-radius-24">
            <!-- modal header -->
            <div class="modal-header p-16 pb-lg-40 pt-lg-24 px-lg-40 border-0">
              <h3 class="modal-title fs-lg-24 fw-lg-bold lh-sm fs-20 fw-medium "></h3>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <!-- modal body -->
            <div class="modal-body d-flex px-16 pb-16 px-lg-40 pb-lg-40 container">
              <div class="row flex-column flex-lg-row w-100">
                <!-- 活動資訊 voting info -->
                <div class="col col-lg-4">
                  <ul class="d-flex flex-column gap-4 gap-md-8 mb-32 mb-lg-0 fs-16 fs-md-20">
                    <li class="eventDateTime">
                      <span class="me-16">享用日期</span>
                      <span class="me-8 ">00/00</span>
                      <span>00:00</span>
                    </li>
                    <li class="deadlineDateTime">
                      <span class="me-16">截止時間</span>
                      <span class="me-8">00/00</span>
                      <span>00:00</span>
                    </li>
                    <li>
                      <span class="me-16">發起人</span>
                      <span class="initiator"></span>
                    </li>
                    <li>
                      <span class="me-16">請客人</span>
                      <span class="invitees"></span>
                    </li>
                  </ul>
                </div>
                <!-- 投票卡片 voting card -->
                <div class="col col-lg-8">
                  <ul class="votingCard">
                    <li class="d-flex gap-12 p-12 mb-12 border border-brand-03 border-radius-40401616">
                      <img class="border-radius-32321616 votingcard-photo" src="#" alt="store-photo">
                      <div>
                        <h4 class="mb-8 fs-16 fs-md-20 lh-sm text-brand-03">#</h4>
                        <p class="mb-8 mb-md-16 text-gray-02 trippleline-ellipsis">
                          #</p>
                        <div class="d-flex justify-content-between flex-column flex-lg-row">
                          <div class="d-flex align-items-center mb-8 mb-lg-0 ">
                            <span class="me-4 me-lg-16 text-gray-02 text-nowrap">成團目標</span>
                            <div class="ts-progress is-tiny bg-gray-04 voting-progress">
                              <div class="bar bg-brand-02" style="--value: 50">
                                <div class="text-white">50%</div>
                              </div>
                            </div>
                          </div>
                          <button
                            class="py-4 px-16 btn-brand-05 btn-hover-bg-1 border-0 rounded-pill text-brand-02 btnVoteThis"
                            type="button">投票</button>
                        </div>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 建立投票 Modal -->
      <div class="modal fade" id="modal-CreateVoting" tabindex="-1" aria-labelledby="modal-CreateVoting"
        aria-hidden="true" data-backdrop="false">
        <div class="modal-dialog modal-xl modal-dialog-centered">
          <div class="d-flex modal-content border-radius-24">
            <!-- modal header -->
            <div class="modal-header p-16 pb-lg-40 pt-lg-24 px-lg-40 border-0">
              <h3 class="modal-title fs-lg-24 fw-lg-bold lh-sm fs-20 fw-medium ">建立投票
              </h3>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <!-- modal body -->
            <div class="modal-body d-flex px-16 pb-16 px-lg-40 pb-lg-40 container">
              <div class="row flex-column flex-lg-row w-100">
                <!-- 建立活動資訊 create voting info -->
                <div class="col col-lg-4">
                  <ul class="d-flex flex-column gap-32 mb-32 fs-16 fs-md-20">
                    <li>
                      <label for="eventDateTime" class="mb-16 mb-md-12">享用日期</label>
                      <input type="datetime-local"
                        class="px-14 py-12 w-100 border-radius-16 border border-2 border-gray-04 fs-16"
                        id="eventDateTime" name="eventDateTime" placeholder="日期" required>
                    </li>
                    <li>
                      <label for="deadlineDateTime" class="mb-16 mb-md-12">截止時間</label>
                      <input type="datetime-local"
                        class="px-14 py-12 w-100 border-radius-16 border border-2 border-gray-04 fs-16"
                        id="deadlineDateTime" name="deadlineDateTime" placeholder="日期" required>
                    </li>
                    <li>
                      <span class="me-16 mb-16 mb-md-12">發起人</span>
                      <span>黃莉琳</span>
                    </li>
                    <li>
                      <label for="votingInvitees" class="mb-16 mb-mb-12">請客人</label>
                      <select id="votingInvitees" name="votingInvitees"
                        class="px-14 py-12 w-100 border-radius-16 border border-2 border-gray-04 fs-16 select-payer">
                        <option class="text-gray-03" value="請選擇付款人" disabled selected>請選擇付款人</option>
                        <option value="no-invitees">各自付款</option>
                        <option value="has-invitees">由我請客</option>
                      </select>
                    </li>
                  </ul>
                  <button
                    class="py-12 py-md-14 px-16 btn-brand-03 btn-hover-brand-01 border-0 rounded-pill text-white fs-16 fs-md-20 w-100 btnLinkToCreateVoting"
                    type="button">選擇店家</button>
                </div>
                <!-- 投票卡片 voting card -->
                <div class="col col-lg-8">
                  <p class="fs-16 fs-md-20 text-center d-none d-lg-block">尚未選擇店家</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>


      <!-- footer -->
      <footer class="pt-md-48 pb-md-32 py-32 bg-bg-1 text-gray-02 footer-radius">
    <div class="d-flex flex-column align-items-center">
        <img class="mb-md-24 mb-16 footer-logo" src="/TeaTime-Gathering/assets/logo-teatime-79c8d1bd.svg" alt="logo">
        <p class="mb-md-24 mb-16 lh-sm fw-medium">管理員：Ann Chou、Billy Ti、Mark、WA</p>
        <ul class="d-flex gap-24 mb-md-32 mb-16">
            <li><a href="https://forms.gle/WndwyVzdawV7Qsvj9"><iconify-icon icon="ic:round-email" style="color: #bfa373;" width="24" height="24"></iconify-icon></a></li>
            <li><a href="#"><iconify-icon icon="mdi:facebook" style="color: #bfa373;" width="24" height="24"></iconify-icon></a></li>
            <li><a href="#"><iconify-icon icon="ant-design:instagram-filled" style="color: #bfa373;" width="24" height="24"></iconify-icon></a></li>
        </ul>
        <div class="layout-content container">
            <div class="d-flex flex-md-row flex-column align-items-center justify-content-between w-100 py-md-16 px-md-24 py-12 px-12 bg-white rounded-pill">
                <p>本網站僅作為求職作品集使用，不供商業用途</p>
                <p>© 2023 一起發胖團</p>
            </div>
        </div>
    </div>
</footer>
        <!-- notification -->
        <a class="btn-notification position-fixed z-1 d-block cursor-pointer notification-hover btnNotification"
    id="notificationToastBtn">
    <iconify-icon class="p-8 bg-brand-02 rounded-circle" icon="ion:notifications-outline" style="color: white;"
        width="28" height="28"></iconify-icon>
    <div class="btn-notification-alert rounded-circle bg-brand-01 border border-brand-04 border-1  position-absolute btnNotificationAlert"></div>
</a>

<!-- notification-container -->
<div class="position-fixed notification-container" style="z-index: 1030">
    <div id="notificationToast"
        class="overflow-hidden border-2 border-brand-05 border bg-white notification-body toast toast-no-shadow"
        role="alert" aria-live="assertive" aria-atomic="true" data-bs-autohide="false">
        <div class="d-flex justify-content-between align-items-center py-md-20 px-md-24 p-16 bg-brand-05">
            <span class="fs-md-24 fs-20 fw-bold lh-sm ">通知</span>
            <a class="d-block cursor-pointer" data-bs-dismiss="toast" aria-label="Close">
                <iconify-icon icon="ic:round-close" style="color: #8B8B8A;" width="32"></iconify-icon>
            </a>
        </div>
        <div class="px-md-20 py-md-24 p-16">
            <ul class="notification-messages">
                <li><a href="#" class="d-block">
                        <p class="mb-12 text-brand-02 fw-medium fs-md-20 fs-16 lh-sm">您的投票結果已開票！請前往跟團點餐</p>
                        <div class="d-flex justify-content-between mb-8">
                            <span class="text-gray-02">店家</span>
                            <span>飲舞者</span>
                        </div>
                        <div class="d-flex justify-content-between ">
                            <span class="text-gray-02">預定訂購時間</span>
                            <time>2023/08/14</time>
                        </div>
                    </a></li>
                <li><a href="#" class="d-block">
                        <p class="mb-12 text-brand-02 fw-medium fs-md-20 fs-16 lh-sm">您的跟團已確認成團！請盡速向團主付款</p>
                        <div class="d-flex justify-content-between mb-8">
                            <span class="text-gray-02">店家</span>
                            <span>飛餐</span>
                        </div>
                        <div class="d-flex justify-content-between ">
                            <span class="text-gray-02">預定訂購時間</span>
                            <time>2023/08/12</time>
                        </div>
                    </a></li>
                <li><a href="#" class="d-block">
                        <p class="mb-12 text-brand-02 fw-medium fs-md-20 fs-16 lh-sm">您主辦的開團失敗！謝謝您的發起</p>
                        <div class="d-flex justify-content-between mb-8">
                            <span class="text-gray-02">店家</span>
                            <span>速食窩</span>
                        </div>
                        <div class="d-flex justify-content-between ">
                            <span class="text-gray-02">預定訂購時間</span>
                            <time>無</time>
                        </div>
                    </a></li>
                <li><a href="#" class="d-block">
                        <p class="mb-12 text-brand-02 fw-medium fs-md-20 fs-16 lh-sm">跟團訂單「編號 11111」已付款</p>
                        <div class="d-flex justify-content-between mb-8">
                            <span class="text-gray-02">店家</span>
                            <span>飛餐</span>
                        </div>
                        <div class="d-flex justify-content-between ">
                            <span class="text-gray-02">預定訂購時間</span>
                            <time>2023/08/12</time>
                        </div>
                    </a></li>
                <li><a href="#" class="d-block">
                        <p class="mb-12 text-brand-02 fw-medium fs-md-20 fs-16 lh-sm">您的投票結果已開票！請前往跟團點餐</p>
                        <div class="d-flex justify-content-between mb-8">
                            <span class="text-gray-02">店家</span>
                            <span>茶源 ChaSource</span>
                        </div>
                        <div class="d-flex justify-content-between ">
                            <span class="text-gray-02">預定訂購時間</span>
                            <time>2023/08/18</time>
                        </div>
                    </a></li>
            </ul>
        </div>
    </div>
</div>

<!-- jQuery -->
<script>
    // 通知按鈕點擊切換通知提示圓點
    $('.btnNotification').click(function (e) {
        $('.btnNotificationAlert').addClass('d-none');
        $('#notificationToast').toast('hide')
    });
</script>
          <!-- ICONGIFY -->
          <script src="https://code.iconify.design/iconify-icon/1.0.7/iconify-icon.min.js"></script>

          <!-- JS -->
          

          <!-- moment.js import-->
          <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.4/moment.min.js"></script>

          <!-- Axios -->
          <script src="https://cdn.jsdelivr.net/npm/axios@1.1.2/dist/axios.min.js"></script>

          <!-- 時間選擇器 flatpickr -->
          <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>

          <!-- 進度條 tocas progress -->
          <script src="https://cdnjs.cloudflare.com/ajax/libs/tocas/4.2.5/tocas.min.js"></script>

          <!-- 月曆 evo-calendar -->
          <script src="https://www.jsdelivr.com/package/npm/evo-calendar"></script>
          <!-- Add the evo-calendar.js for.. obviously, functionality! -->
          <script src="https://cdn.jsdelivr.net/npm/evo-calendar@1.1.2/evo-calendar/js/evo-calendar.min.js"></script>

          <!-- 投票頁初始頁面 render init -->
          <script>
            // 使用 moment 格式化日期
            var now = moment().format('YYYY/MM/DD');
            // 初步撈取的資料
            let datas = [];
            // 整理過的事件 Data
            const calendarEventMap = {};

            /* 開團 & 投票事件撈取 */
            function init() {
              const groupings = axios.get('https://teatimeapi-test.onrender.com/groupings?_expand=restaurant');
              const votings = axios.get('https://teatimeapi-test.onrender.com/votings?_expand=restaurant');

              Promise.all([groupings, votings])
                .then(function (res) {
                  datas = datas.concat(res[0].data)
                  datas = datas.concat(res[1].data)
                  createEventData()
                }).catch(function (error) {
                  console.error(error);
                });
            }

            init();

            /* 整理事件 Data，以 UID 做分類 */
            function createEventData() {
              datas.forEach(data => {
                if (!calendarEventMap[data.UID]) {
                  calendarEventMap[data.UID] = {
                    UID: data.UID,
                    restaurantId: data.restaurantId,
                    deadlineDateTime: data.deadlineDateTime, //截止時間
                    eventDateTime: data.eventDateTime, //享用時間
                    initiator: data.initiator, //舉辦人
                    invitees: data.invitees, //請客人
                    restaurantList: data.UID.startsWith('V') ? [] : [data.restaurantName],
                    restaurantPhoto: data.restaurant.storeCover,
                    minGroupSize: data.minGroupSize,
                    currentGroupCondition: data.currentGroupCondition,
                    currentVotes: 0,
                    isGroup: true
                  };
                }

                if (data.UID.startsWith('V')) {
                  calendarEventMap[data.UID].restaurantList.push(data.restaurantName);
                  calendarEventMap[data.UID].currentVotes += data.currentVotes
                  delete calendarEventMap[data.UID].currentGroupCondition
                } else {
                  delete calendarEventMap[data.UID].currentVotes
                }
              });

              createEvoCalendarData()
              console.log(calendarEventMap)
              renderEvent()
            }


            /* 建立能被 evoCalendar 讀取的格式 */
            function createEvoCalendarData() {
              const calendarStr = [];

              for (const id in calendarEventMap) {
                if (calendarEventMap.hasOwnProperty(id)) {
                  const e = calendarEventMap[id];
                  calendarStr.push({
                    id: e.UID,
                    name: e.restaurantList.join("、"),
                    date: e.deadlineDateTime,
                    type: 'event',
                    color: e.UID[0] === 'V' ? '#F0BD68' : '#FD909F'
                  });
                }
              }

              renderCalendar(calendarStr)
            }

            /* 渲染 evoCalendar */
            function renderCalendar(calendarStr) {
              $('#calendar').evoCalendar({
                'sidebarDisplayDefault': false,
                'sidebarToggler': true,
                'eventDisplayDefault': false,
                'eventListToggler': false,
                'todayHighlight': true,
                'calendarEvents': calendarStr
              });
            }


            /* 獲得滑鼠點擊日期 */
            $('#calendar').on('click', function (e) {
              // 使用getActiveDate來獲取滑鼠點擊的日期
              var active_date = $('#calendar').evoCalendar('getActiveDate');
              // 格式化日期
              var formatted_ActiveDate = moment(active_date, 'MM/DD/YYYY').format('YYYY/MM/DD');
              console.log('滑鼠點擊的日期：', formatted_ActiveDate);
              renderEvent(formatted_ActiveDate)
            });

            const calendarEvent = document.querySelector(".calendarEvent")

            /* 渲染活動卡片事件 */
            function renderEvent(time = now) {
              let tempEventList = ""
              const eventArray = Object.values(calendarEventMap);

              const filteredEvent = eventArray.filter(item => {
                const dateTimeParts = item.deadlineDateTime.split(" ");
                const datePart = dateTimeParts[0];
                return datePart === time;
              });

              if (!filteredEvent.length) {
                tempEventList += `<li class="fs-16 fs-md-20 text-center">目前沒有下午茶活動</li>`

              } else {
                filteredEvent.forEach(e => {
                  tempEventList += `<li class="cursor-pointer" data-bs-uid=${e.UID} ${e.UID.startsWith("V") ? `data-bs-toggle="modal" data-bs-target="#modal-VotingModal` : ""}">
                <div
                  class="position-relative row mx-0 flex-column gy-12 gy-md-16 p-16 p-md-24 pt-56 pb-8 pb-md-16 pt-md-8 border border-brand-03 border-radius-16">
                  <!-- 月曆卡片 title -->
                  <div
                    class="position-absolute d-flex align-items-end top-0 start-0 px-16 px-md-24 w-100 w-sm-75 calendar-title-translateY">
                    <img class="me-12 me-lg-16 calendar-photo border border-2 border-brand-03 bg-white"
                      src=${e.restaurantPhoto} alt="store-logo">
                    <h3 class="fs-20 fs-md-24 fw-medium fw-md-bold lh-sm text-brand-03 doubleline-ellipsis">${e.restaurantList.join("、")}
                    </h3>
                  </div>
                  <!-- 卡片活動類別 -->
                  <div
                    class="align-self-end py-4 py-md-8 order-last order-md-first ${e.UID.startsWith("V") ? "bg-brand-01" : "bg-brand-02"} rounded-pill text-white text-center"
                    style="width:80px">${e.UID.startsWith("V") ? "投票中" : "開團中"}</div>
                  <!-- 月曆卡片內容 -->
                  <ul class="row flex-column flex-xl-row g-4 g-md-8 p-0 fs-16 fs-md-20">
                    <li class="col col-xl-7">
                      <ul class="d-flex flex-column gap-4 gap-md-8">
                        <li>
                          <span class="me-16">享用日期</span>
                          <span class="me-8">${e.eventDateTime.substring(5, 10)}</span>
                          <span>${e.eventDateTime.split(" ")[1]}</span>
                        </li>
                        <li>
                          <span class="me-16">截止時間</span>
                          <span class="me-8">${e.deadlineDateTime.substring(5, 10)}</span>
                          <span>${e.deadlineDateTime.split(" ")[1]}</span>
                        </li>
                      </ul>
                    </li>
                    ${e.UID.startsWith("V") ? "" : `<li class="d-flex align-items-center order-1 order-md-end">
                      <span class="me-16">成團目標</span>                      
                      <div class="ts-progress is-tiny bg-gray-04" style="width: 120px;">
    <div class="bar bg-brand-02" style="--value: ${Math.floor(e.minGroupSize / e.currentGroupCondition * 100)}">
        <div class="text-white">${Math.floor(e.minGroupSize / e.currentGroupCondition * 100) > 100 ? 100 : Math.floor(e.minGroupSize / e.currentGroupCondition * 100)}%</div>
    </div>
</div></li>`}
                    <li class="col col-xl-5">
                      <ul class="d-flex flex-column gap-4 gap-md-8">
                        <li>
                          <span class="me-16">請客人</span>
                          <span class="me-8">${!e.invitees ? "無" : e.invitees}</span>
                        </li>
                        <li>
                          <span class="me-16">發起人</span>
                          <span class="me-8">${e.initiator}</span>
                        </li>
                      </ul>
                    </li>
                  </ul>
                </div>
              </li>`
                })
              }

              calendarEvent.innerHTML = tempEventList;
            }
          </script>

          <!-- 投票檢索 & 投票動作 show & vote voting event Modal -->
          <script>
            const VotingModal = document.getElementById('modal-VotingModal')

            // 投票 modal 資料顯示
            VotingModal.addEventListener('show.bs.modal', function (event) {
              const modalData = event.relatedTarget
              var votingUID = modalData.getAttribute('data-bs-uid')

              // show modalTitle
              const modalTitle = VotingModal.querySelector('.modal-title')
              modalTitle.textContent = calendarEventMap[votingUID].restaurantList.join("、")

              // show votingInfo
              const deadlineDateTime = document.querySelector(".deadlineDateTime")
              const eventDateTime = document.querySelector(".eventDateTime")
              const initiator = document.querySelector(".initiator")
              const invitees = document.querySelector(".invitees")

              deadlineDateTime.innerHTML = `<span class="me-16">享用日期</span>
                        <span class="me-8 ">${calendarEventMap[votingUID].deadlineDateTime.substring(5, 10)}</span>
                        <span>${calendarEventMap[votingUID].deadlineDateTime.split(" ")[1]}</span>`

              eventDateTime.innerHTML = `<span class="me-16">截止時間</span>
                          <span class="me-8">${calendarEventMap[votingUID].eventDateTime.substring(5, 10)}</span>
                          <span>${calendarEventMap[votingUID].eventDateTime.split(" ")[1]}</span>`

              initiator.textContent = calendarEventMap[votingUID].initiator
              invitees.textContent = calendarEventMap[votingUID].invitees === "" ? "無" : calendarEventMap[votingID].invitees

              //show votingCard
              const votingCard = document.querySelector(".votingCard")
              let votingCardData = [] //投票 modal 右側店家卡片資料
              let cardDataTemp = ""

              function initModalVotingCard() {
                axios.get(`https://teatimeapi-test.onrender.com/votings?UID=${votingUID}&_expand=restaurant`)
                  .then(function (res) {
                    votingCardData = res.data
                    cardDataTemp = ""
                    renderVotingCard()
                  }).catch(function (error) {
                    console.error(error);
                  });
              }

              initModalVotingCard()

              //show votingCard & vote
              function renderVotingCard() {
                //html 資料
                votingCardData.forEach(data => {
                  cardDataTemp += `
                      <li class="d-flex gap-12 p-12 mb-12 border border-brand-03 border-radius-40401616">
                        <img class="border-radius-32321616 votingcard-photo" src="${data.restaurant.storeCover}">
                        <div>
                          <h4 class="mb-8 fs-16 fs-md-20 lh-sm text-brand-03">${data.restaurantName}</h4>
                          <p class="mb-8 mb-md-16 text-gray-02 trippleline-ellipsis">${data.restaurant.summary}</p>
                          <div class="d-flex justify-content-between flex-column flex-lg-row">
                            <div class="d-flex align-items-center mb-8 mb-lg-0 ">
                              <span class="me-4 me-lg-16 text-gray-02 text-nowrap">成團目標</span>
                              <div class="ts-progress is-tiny bg-gray-04 voting-progress">
                                <div class="bar bg-brand-02" style="--value: ${Math.floor(data.currentVotes / data.minGroupSize * 100)}">
                                  <div class="text-white">${Math.floor(data.currentVotes / data.minGroupSize * 100) > 100 ? 100 : Math.floor(data.currentVotes / data.minGroupSize * 100)}%</div>
                                </div>
                              </div>
                            </div>
                            <button
                              class="py-4 px-16 btn-brand-05 btn-hover-bg-1 border-0 rounded-pill text-brand-02 btnVoteThis"
                              type="button" data-num=${data.id}>投票</button>
                          </div>
                      </li>`
                })

                votingCard.innerHTML = cardDataTemp


                // btnVoteThis 投票動作
                const btnVoteThis = document.querySelectorAll('.btnVoteThis')
                btnVoteThis.forEach(btn => {
                  btn.addEventListener('click', function () {
                    voteThis(btn.dataset.num);
                  });
                });

                function voteThis(id) {
                  axios.get(`https://teatimeapi-test.onrender.com/votings/${id}`)
                    .then(function (res) {
                      const currentVotes = res.data.currentVotes;
                      const updatedVotes = currentVotes + 1;

                      axios.patch(`https://teatimeapi-test.onrender.com/votings/${id}`, {
                        "currentVotes": updatedVotes
                      })
                        .then(function (patchRes) {
                          // console.log(patchRes.data);
                          initModalVotingCard()
                        })
                        .catch(function (error) {
                          console.error(error);
                        });
                    })
                    .catch(function (error) {
                      console.error(error);
                    });
                }

              }
            })              
          </script>

          <!-- 建立投票 create voting event -->
          <script>
            const eventDateTimeInput = document.getElementById("eventDateTime")
            const deadlineDateTimeInput = document.getElementById("deadlineDateTime")
            const votingInviteesSelect = document.getElementById("votingInvitees")

            sessionStorage.setItem('eventDateTime', eventDateTimeInput.value);
            sessionStorage.setItem('deadlineDateTime', deadlineDateTimeInput.value);
            sessionStorage.setItem('votingInvitees', votingInviteesSelect.value);
          </script>

          <!-- btn 按鈕超連結 -->
          <script>
            const btnLinkToCreateVoting = document.querySelector(".btnLinkToCreateVoting")
            btnLinkToCreateVoting.addEventListener("click", function () {
              window.location.href = "./createVoting.html"
            })
          </script>

          <!-- jQuery -->
          <script> //沒有用處，會被 initVotingCard 刷新
            /* 投票 按鈕 active 狀態切換顯示 */
            // $('.btnVoteThis').click(function (e) {
            //   $('.btnVoteThis').toggleClass('btn-active-brand-02');
            // });
          </script>

          <!-- 時間選擇器 flatpickr -->
          <script>
            config = {
              enableTime: true,
              dateFormat: "Y/m/d H:i",
              time_24hr: true,
              minuteIncrement: 15,
              allowInput: true,
              minDate: moment().format('YYYY/MM/DD'),
              maxDate: moment().add(1, 'months').format('YYYY/MM/DD'),
              // onChange: function (selectedDates, dateStr, instance) {
              //   if (instance.input.id === 'eventDateTime') {
              //     // 享用時間
              //     // console.log('eventDateTime:', moment(selectedDates[0]).format('YYYY/MM/DD HH:mm'));
              //     console.log(eventDateTimeInput.value)
              //   } else if (instance.input.id === 'deadlineDateTime') {
              //     // 投票截止時間
              //     console.log('deadlineDateTime:', moment(selectedDates[0]).format('YYYY/MM/DD HH:mm'));
              //   }
              // }
            }

            flatpickr("input[type=datetime-local]", config);
          </script>


</body>

</html>